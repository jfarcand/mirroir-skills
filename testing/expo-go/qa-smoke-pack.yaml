name: Visual Regression Test
app: Expo Go
description: >
  Capture screenshots of key app screens for visual regression
  testing. Navigates a configurable path through the app, capturing
  and describing each screen. Uses remember to detect unexpected
  UI changes — something traditional screenshot diffing can't do.
ios_min: "17.0"
locale: "en_US"
tags: ["testing", "qa", "screenshots", "remember", "regression"]

steps:
  - launch: "Expo Go"
  - wait_for: "${APP_SCREEN:-Home}"
  - tap: "${APP_SCREEN:-Home}"
  - wait_for: "${LANDING_LABEL:-Welcome}"
  - assert_visible: "${LANDING_LABEL:-Welcome}"
  - remember: "Describe the landing screen layout — note all visible elements, their positions, and any error indicators."
  - screenshot: "regression_01_landing"
  - tap: "${SCREEN_1_TAP:-Profile}"
  - wait_for: "${SCREEN_1_LABEL:-Profile}"
  - remember: "Describe the screen layout and compare with expected elements: navigation bar, content area, any error states."
  - screenshot: "regression_02_profile"
  - tap: "${SCREEN_2_TAP:-Settings}"
  - wait_for: "${SCREEN_2_LABEL:-Settings}"
  - remember: "Check for any visual anomalies — missing icons, truncated text, layout overflow, or unexpected empty states."
  - screenshot: "regression_03_settings"
